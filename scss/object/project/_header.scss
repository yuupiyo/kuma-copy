@use "../../foundation/global" as g;

.p-header__inner {
  display: block;
  height: min(g.sp-vw(111.63),128px);
  padding: min(g.sp-vw(34.884),40px) min(g.sp-vw(28.125),42px) 0;
  @include g.s-tablet {
    padding: min(g.s-tb-vw(29.257),40px) min(g.s-tb-vw(29.335),53.529px) 0;
  }
  @include g.pc {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    height: min(g.pc-vw(176),220px);
    padding: min(g.pc-vw(51.2),64px) min(g.pc-vw(200.96),251.2px) 0 min(g.pc-vw(80),100px);
  }
  @include g.l-pc {
    padding: g.rem(80) g.rem(314) 0 g.rem(100);
  }
}

// ロゴ
.p-header__logo {
  width: min(g.sp-vw(123.84),142px);
  @include g.pc {
    width: min(g.pc-vw(140.8),176px);
  }
  & a {
    display: block;
  }
}
// ロゴhover時
@media (any-hover: hover) {
  .p-header__logo a:hover {
    opacity: 0.4;
  }
}

// ナビゲーション
// main-nav
.p-header__nav {
  @include g.pc {
    display: flex;
    flex-direction: column-reverse;
    margin-top: max(g.pc-vw(-1.6),-2px);
  }
}
.p-header__nav-main {
  position: relative;
  margin-top: min(g.pc-vw(20),25px);
  & > li+li {
    margin-left: min(g.pc-vw(30.4),38px);
  }
}
.p-header__nav-main__item {
  display: flex;
  align-items: center;
  gap: g.rem(5);
  position: relative;
  padding: min(g.pc-vw(3.2),4px);
  margin: max(g.pc-vw(-3.2),-4px);
  font-weight: 700;
  font-style: normal;
  font-size: min(1.562vw,20px);
  color: g.$color-dark;
  z-index: 0;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
  @include g.l-pc {
    font-size: g.rem(26);
  }
  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: auto;
    right: 0;
    width: 0;
    height: 100%;
    background-color: g.$color-red;
    z-index: -1;
    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
  }
}

// sub-nav
.p-header__nav-sub {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  & > li+li:not(.p-header__nav-sub__button) {
    margin-left: min(g.pc-vw(24),30px);
  }
}
.p-header__nav-sub__item {
  display: flex;
  align-items: center;
  font-size: min(g.pc-vw(13),16px);
  color: g.$color-dark;
}
.p-header__nav-sub__arrow {
  margin-top: min(g.pc-vw(0.8),1px);
}
.p-header__nav-sub__text {
  margin-left: min(g.pc-vw(8),10px);
  font-weight: 700;
}
// sub-nav:hover時
@media (any-hover: hover) {
  .p-header__nav-sub__item:hover {
    color: g.$color-red;
    & .p-header__nav-sub__arrow {
      animation: calc(0.18s * 5) steps(2) arrow infinite;
    }
  }
}
// 矢印のアニメーション
@keyframes arrow {
  0% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(50%, 0, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

// 「実例で分かるコーディング用語」部分
.p-header__nav-sub__button {
  position: relative;
  width: min(g.pc-vw(201.594),252px);
  height: min(g.pc-vw(30.72),38.4px);
  margin-left: min(g.pc-vw(24.32),30.4px);
  &::before {
    content: '';
    display: block;
    position: absolute;
    bottom: max(g.pc-vw(-3.2),-4px);
    right: max(g.pc-vw(-3.2),-4px);
    width: 100%;
    height: 100%;
    background-color: g.$color-gray07;
    z-index: 3;
  }
}
.p-header__nav-sub__button a {
  display: flex;
  align-items: center;
  position: relative;
  width: 100%;
  height: 100%;
  padding-left: min(g.pc-vw(39.68),49.6px);
  border: solid g.rem(3) g.$color-dark;
  background-color: g.$color-white;
  z-index: 4;
}
.p-header__nav-sub__button__icon {
  display: block;
  position: absolute;
  top: max(g.pc-vw(-2.56),-3.2px);
  left: min(g.pc-vw(8.96),11.2px);
  width: min(g.pc-vw(23.04),28.8px);
  height: min(g.pc-vw(24.31),30.4px);
  background-image: url(../../../img/top/book.png);
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
  &::before {
    content: '';
    display: block;
    position: absolute;
    top: min(g.pc-vw(0.8),1px);
    left: 25%;
    width: 50%;
    height: 30%;
    background-color: g.$color-white;
    z-index: -1;
    transition: all 0.15s cubic-bezier(0.645, 0.045, 0.355, 1);
  }
}
.p-header__nav-sub__button__text {
  position: relative;
  width: min(g.pc-vw(145.27),181.6px);
  transition: all 0.15s cubic-bezier(0.645, 0.045, 0.355, 1);
}
// hover時
@media (any-hover: hover) {
  .p-header__nav-sub__button a:hover {
    background-color: g.$color-red;
    border-color: g.$color-red;
    transform: translate3d(g.rem(4), g.rem(4), 0);
    & .p-header__nav-sub__button__icon::before {
      background-color: g.$color-red;
    }
    & .p-header__nav-sub__button__text {
      filter: brightness(0) invert(1);
    }
  }
}

// contact部分
.p-header__contact {
  position: fixed;
  top: 0;
  right: 0;
  width: min(g.pc-vw(168),210px);
  height: min(g.pc-vw(176),220px);
  z-index: 1000000010;
  & a {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 100%;
    height: 100%;
    padding: 0 0 min(g.pc-vw(9.6),12px) min(g.pc-vw(8),10px);
    background-color: g.$color-red;
    border-radius: 0 0 0 g.rem(50);
    z-index: 0;
    overflow: hidden;
  }
}
.p-header__contact__time {
  position: relative;
  width: min(g.pc-vw(77.59),97px);
  z-index: 2;
}
.p-header__contact__text {
  position: relative;
  margin-top: min(g.pc-vw(9.6),12px);
  padding-top: g.rem(0.1);
  padding-bottom: g.rem(0.1);
  font-size: min(g.pc-vw(34),42px);
  color: g.$color-white;
  line-height: calc(calc( 46 / 42 )* 1em);
  letter-spacing: calc(250 / 1000* 1em);
  z-index: 2;
}
.p-header__contact__object {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
  &::before {
    content: '';
    position: absolute;
    bottom: g.rem(-1);
    right: g.rem(-1);
    width: min(g.pc-vw(78.398),98px);
    height: min(g.pc-vw(170.398),213px);
    background-image: url(../../../img/top/header_button_coder.png);
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    z-index: 1;
    transform: translate3d(100%, 0, 0);
    transition: 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
    transition-property: opacity, transform;
  }
  &::after {
    content: '';
    position: absolute;
    bottom: g.rem(-1);
    right: g.rem(-1);
    width: min(g.pc-vw(78.398),98px);
    height: min(g.pc-vw(170.398),213px);
    background-image: url(../../../img/top/header_button_object.png);
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    z-index: 0;
    transform: scale(0);
    transform-origin: 50% 20%;
    transition: 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);
    transition-property: opacity, transform;
  }
}
// hover時
@media (any-hover: hover) {
  .p-header__contact a:hover {
    &::after {
      opacity: 0;
    }
    & .p-header__contact__object::before {
      opacity: 1;
      transform: translate3d(0, 0, 0);
      transition-delay: .1s;
      transition: 0.45s cubic-bezier(1, 0, 0, 1);
    }
    & .p-header__contact__object::after {
      opacity: 1;
      transform: scale(1);
      transition-delay: .3s;
      transition: 0.45s cubic-bezier(1, 0, 0, 1);
    }
  }
}